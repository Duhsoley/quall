
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Bingo Essencialista - Qualicorp</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 5px;
            position: relative;
            overflow-x: hidden;
        }

        .container {
            max-width: 550px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            text-align: center;
            padding: 15px;
            position: relative;
        }

        .header h1 {
            font-size: 1.5rem;
            margin-bottom: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .header p {
            opacity: 0.9;
            font-size: 0.8rem;
        }

        .login-form {
            padding: 20px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #333;
            font-size: 0.9rem;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        .btn-start {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            width: 100%;
        }

        .btn-start:hover {
            transform: translateY(-2px);
        }

        .game-container {
            display: none;
            padding: 10px;
        }

        .player-info {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            padding: 8px;
            border-radius: 10px;
            margin-bottom: 10px;
            border-left: 4px solid #e17055;
        }

        .player-info h3 {
            color: #2d3436;
            margin-bottom: 3px;
            font-size: 0.9rem;
        }

        .player-info p {
            color: #636e72;
            margin: 0;
            font-size: 0.8rem;
        }

        .bingo-header {
            text-align: center;
            margin-bottom: 10px;
        }

        .bingo-header h2 {
            color: #ff6b6b;
            font-size: 1.2rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .instructions {
            background: linear-gradient(135deg, #fff7e6, #ffe8cc);
            padding: 8px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid #ff6b6b;
        }

        .instructions p {
            margin: 0;
            color: #333;
            font-weight: 500;
            font-size: 0.8rem;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: #e1e8ed;
            border-radius: 2px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #ee5a24);
            width: 4%;
            transition: width 0.5s ease;
            border-radius: 2px;
        }

        .bingo-letters {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 4px;
            margin-bottom: 8px;
        }

        .bingo-letter {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 6px;
            text-align: center;
            font-weight: bold;
            font-size: 0.9rem;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .bingo-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2px;
            margin-bottom: 10px;
            position: relative;
        }

        .bingo-cell {
            aspect-ratio: 1;
            background: #f8f9fa;
            border: 2px solid #e1e8ed;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.55rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 2px;
            line-height: 1;
            position: relative;
            overflow: hidden;
        }

        .bingo-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }

        .bingo-cell.marked {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            border-color: #00a085;
            transform: scale(1.02);
        }

        .bingo-cell.free {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            border-color: #00a085;
            cursor: default;
        }

        .bingo-cell.free::after {
            content: '‚≠ê';
            position: absolute;
            top: 1px;
            right: 1px;
            font-size: 0.4rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            margin-bottom: 10px;
        }

        .stat-card {
            background: linear-gradient(135deg, #6c5ce7, #5f3dc4);
            color: white;
            padding: 10px 6px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(108, 92, 231, 0.3);
        }

        .stat-number {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 2px;
        }

        .stat-label {
            font-size: 0.7rem;
            opacity: 0.9;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 6px;
        }

        .btn {
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .btn-reset {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
        }

        .btn-continue {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
        }

        .btn-submit {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Anima√ß√µes de celebra√ß√£o */
        .star-celebration {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: #ffd700;
            animation: starPop 3s ease-out forwards;
            pointer-events: none;
            z-index: 1000;
        }

        @keyframes starPop {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0);
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
            80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.8);
            }
        }

        .bingo-celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            animation: celebrationFade 5s ease-out forwards;
        }

        .celebration-content {
            text-align: center;
            color: white;
            animation: celebrationBounce 1s ease-out;
        }

        .celebration-content h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff6b6b, #ffd700, #00b894, #6c5ce7);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 2s ease-in-out infinite;
        }

        .confetti {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ff6b6b;
            animation: confettiFall 3s linear infinite;
        }

        .confetti:nth-child(2n) { background: #ffd700; animation-delay: 0.5s; }
        .confetti:nth-child(3n) { background: #00b894; animation-delay: 1s; }
        .confetti:nth-child(4n) { background: #6c5ce7; animation-delay: 1.5s; }

        @keyframes celebrationFade {
            0%, 80% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; }
        }

        @keyframes celebrationBounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes confettiFall {
            0% { transform: translateY(-100vh) rotate(0deg); }
            100% { transform: translateY(100vh) rotate(360deg); }
        }

        .bingo-diagonal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .diagonal-letter {
            position: absolute;
            font-size: 1.2rem;
            font-weight: bold;
            color: #ff6b6b;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: letterPop 0.5s ease-out forwards;
        }

        @keyframes letterPop {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        /* Quiz styles */
        .quiz-container {
            display: none;
            padding: 10px;
        }

        .quiz-header {
            background: linear-gradient(135deg, #6c5ce7, #5f3dc4);
            color: white;
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 10px;
        }

        .quiz-question {
            background: white;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .question-number {
            color: #6c5ce7;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 0.8rem;
        }

        .question-text {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: #2d3436;
        }

        .quiz-options {
            display: grid;
            gap: 6px;
        }

        .quiz-option {
            padding: 10px;
            border: 2px solid #e1e8ed;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            font-size: 0.8rem;
        }

        .quiz-option:hover {
            border-color: #6c5ce7;
            background: #f8f9ff;
        }

        .quiz-option.selected {
            border-color: #6c5ce7;
            background: linear-gradient(135deg, #6c5ce7, #5f3dc4);
            color: white;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
        }

        /* Tela de Sucesso */
        .success-container {
            display: none;
            padding: 20px;
            text-align: center;
        }

        .success-header {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .success-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .success-subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        .success-stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
        }

        .success-stats h4 {
            color: #2d3436;
            margin-bottom: 10px;
        }

        .success-stats ul {
            list-style: none;
            padding: 0;
        }

        .success-stats li {
            padding: 3px 0;
            color: #636e72;
            font-size: 0.9rem;
        }

        .btn-certificate {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-certificate:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(255, 107, 107, 0.3);
        }

        /* Certificado */
        .certificate-container {
            display: none;
            padding: 15px;
            text-align: center;
        }

        .certificate {
            background: #1a1a2e;
            border: 3px solid #ff6b6b;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            color: white;
        }

        .certificate::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff6b6b, #00b894, #6c5ce7, #ffd700);
            border-radius: 15px;
            z-index: -1;
            animation: borderGlow 3s ease-in-out infinite;
        }

        @keyframes borderGlow {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .certificate-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .certificate-subtitle {
            color: #ccc;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .certificate-name {
            color: #ff6b6b;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 15px 0;
            padding: 8px;
            border-bottom: 2px solid #ff6b6b;
            text-transform: uppercase;
        }

        .certificate-text {
            color: white;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 15px 0;
        }

        .certificate-date {
            color: #ccc;
            font-size: 0.8rem;
            margin-top: 20px;
        }

        .cuboo-logo {
            position: absolute;
            bottom: 15px;
            right: 15px;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b6b, #6c5ce7);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.7rem;
            text-align: center;
        }

        .social-share {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .share-title {
            color: #2d3436;
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .share-text {
            color: #636e72;
            font-size: 0.8rem;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }

        .btn-download {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-instagram {
            background: linear-gradient(135deg, #e1306c, #fd1d1d, #fcb045);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-download:hover, .btn-instagram:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        /* Responsive Desktop - COMPACTO */
        @media (min-width: 769px) {
            .container {
                max-width: 550px;
            }
            
            .game-container {
                padding: 12px;
            }
            
            .bingo-cell {
                font-size: 0.65rem;
                padding: 3px;
                height: 40px;
            }
            
            .stats {
                gap: 8px;
            }
            
            .stat-card {
                padding: 12px 8px;
            }
            
            .stat-number {
                font-size: 1.4rem;
            }
            
            .celebration-content h1 {
                font-size: 3rem;
            }
            
            .certificate-title {
                font-size: 1.8rem;
            }
            
            .certificate-name {
                font-size: 1.4rem;
            }
        }

        /* Responsive Mobile */
        @media (max-width: 768px) {
            .container {
                margin: 3px;
                border-radius: 12px;
            }
            
            .bingo-cell {
                font-size: 0.5rem;
                padding: 1px;
            }
            
            .stats {
                grid-template-columns: repeat(3, 1fr);
                gap: 5px;
            }
            
            .stat-card {
                padding: 8px 5px;
            }
            
            .stat-number {
                font-size: 1rem;
            }
            
            .celebration-content h1 {
                font-size: 2rem;
            }
            
            .certificate-title {
                font-size: 1.2rem;
            }
            
            .certificate-name {
                font-size: 1rem;
            }
            
            .certificate {
                padding: 15px;
            }
            
            .share-buttons {
                flex-direction: column;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tela de Login -->
        <div id="loginScreen">
            <div class="header">
                <h1>üéØ Bingo Essencialista</h1>
                <p>Palestra Qualicorp - Gamifica√ß√£o Interativa</p>
            </div>
            
            <div class="login-form">
                <div class="form-group">
                    <label for="playerName">Nome Completo *</label>
                    <input type="text" id="playerName" required>
                </div>
                
                <div class="form-group">
                    <label for="department">Departamento/√Årea *</label>
                    <input type="text" id="department" required>
                </div>
                
                <div class="form-group">
                    <label for="whatsapp">WhatsApp *</label>
                    <input type="tel" id="whatsapp" required>
                </div>
                
                <button class="btn-start" onclick="startGame()">üéÆ Come√ßar a Jogar!</button>
            </div>
        </div>

        <!-- Tela do Jogo -->
        <div id="gameScreen" class="game-container">
            <div class="player-info">
                <h3>Jogador: <span id="displayName"></span></h3>
                <p>Departamento: <span id="displayDepartment"></span></p>
            </div>

            <div class="bingo-header">
                <h2>üéÆ SUA CARTELA ESSENCIALISTA</h2>
            </div>

            <div class="instructions">
                <p><strong>Como jogar:</strong> Clique nas palavras quando Eduardo as mencionar. Complete uma linha, coluna ou diagonal para fazer BINGO!</p>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="bingo-letters">
                <div class="bingo-letter">B</div>
                <div class="bingo-letter">I</div>
                <div class="bingo-letter">N</div>
                <div class="bingo-letter">G</div>
                <div class="bingo-letter">O</div>
            </div>

            <div class="bingo-grid" id="bingoGrid">
                <!-- Grid ser√° gerado dinamicamente -->
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="wordsMarked">1</div>
                    <div class="stat-label">Palavras Marcadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="bingosCompleted">0</div>
                    <div class="stat-label">Bingos Completos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalPoints">50</div>
                    <div class="stat-label">Pontos</div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-reset" onclick="resetGame()">üîÑ Resetar</button>
                <button class="btn btn-continue" onclick="continueToQuiz()">üèÜ Continuar para Quiz</button>
            </div>
        </div>

        <!-- Tela do Quiz -->
        <div id="quizScreen" class="quiz-container">
            <div class="quiz-header">
                <h2>üß† Quiz Essencialista</h2>
                <p>Teste seus conhecimentos sobre produtividade!</p>
            </div>

            <div class="quiz-question">
                <div class="question-number" id="questionNumber">Pergunta 1 de 8</div>
                <div class="question-text" id="questionText"></div>
                <div class="quiz-options" id="quizOptions"></div>
            </div>

            <div class="quiz-navigation">
                <button class="btn btn-reset" onclick="previousQuestion()" id="prevBtn" style="display: none;">‚¨ÖÔ∏è Anterior</button>
                <button class="btn btn-continue" onclick="nextQuestion()" id="nextBtn">Pr√≥xima ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Tela de Sucesso -->
        <div id="successScreen" class="success-container">
            <div class="success-header">
                <div class="success-title">üéâ Parab√©ns!</div>
                <div class="success-subtitle">Voc√™ completou o desafio com sucesso!</div>
            </div>

            <div class="success-stats">
                <h4>üìä Seu resultado:</h4>
                <ul id="finalStats">
                    <!-- Estat√≠sticas ser√£o preenchidas dinamicamente -->
                </ul>
            </div>

            <button class="btn-certificate" onclick="showCertificate()">
                üèÜ Resgate seu Certificado
            </button>
        </div>

        <!-- Tela do Certificado -->
        <div id="certificateScreen" class="certificate-container">
            <div class="certificate" id="certificateElement">
                <div class="certificate-title">CERTIFICADO</div>
                <div class="certificate-subtitle">Certificamos que</div>
                <div class="certificate-name" id="certificateName">NOME DA PESSOA</div>
                <div class="certificate-text">
                    superou desafios, desbloqueou seu essencialismo e<br>
                    agora j√° √© um(a) Cubooista Essencialista!
                </div>
                <div class="certificate-date">Julho de 2025</div>
                <div class="cuboo-logo">
                    cubooexperience
                </div>
            </div>

            <div class="social-share">
                <div class="share-title">üéâ Parab√©ns, Essencialista!</div>
                <div class="share-text">
                    Compartilhe seu certificado no Instagram e marque <strong>@cubooexp</strong> e <strong>@duhsoley</strong> para mostrar que voc√™ √© um Essencialista!
                </div>
                <div class="share-buttons">
                    <button class="btn-download" id="downloadBtn" onclick="downloadCertificate()">
                        üíæ Baixar Certificado
                    </button>
                    <a href="#" class="btn-instagram" id="instagramBtn" onclick="shareOnInstagram()">
                        üì∏ Postar no Instagram
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configura√ß√£o do Google Forms - IDs CORRETOS VERIFICADOS
        const GOOGLE_FORMS_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSfJeWWrMj7TaZKMB6G4ULfTB1DEguXVBI40BzokN6XHR2qvJw/formResponse';
        
        // IDs dos campos do Google Forms - VERIFICADOS E CORRETOS
        const FORM_FIELDS = {
            name: 'entry.513075573',
            department: 'entry.1957744503', 
            whatsapp: 'entry.1810613043',
            wordsMarked: 'entry.1966396770',
            bingosCompleted: 'entry.988307012',
            totalPoints: 'entry.276912771',
            percentage: 'entry.1921957625',
            timestamp: 'entry.570034446'
        };

        // Palavras do bingo
        const bingoWords = [
            'C√ìRTEX', '90%', 'ESSENCIAL', 'IRONMAN', 'DISCIPLINA',
            'SWITCHING', 'ELIMINAR', 'MENOS', 'PREPARA√á√ÉO', 'SISTEMAS',
            'DOPAMINA', 'DIZER N√ÉO', 'LIVRE', 'FINALIZAR', 'EXECU√á√ÉO',
            'MULTITASK', 'EXPLORAR', 'BLOCOS', 'T1/T2', 'VONTADE',
            'ATEN√á√ÉO', 'FOCO', 'PRIORIDADE', 'PERFORMANCE', 'REALIZAM'
        ];

        // QUIZ CORRIGIDO - Removida pergunta sobre essencialismo + Respostas balanceadas
        const quizQuestions = [
            {
                question: "Qual √© o maior inimigo da produtividade?",
                options: ["Falta de tempo", "Multitasking", "Pregui√ßa", "Falta de energia"],
                correct: 1
            },
            {
                question: "Como identificar o que √© realmente importante?",
                options: ["Aplicar a regra dos 90%", "Fazer uma lista de tudo", "Perguntar para o chefe", "Fazer o mais urgente primeiro"],
                correct: 0
            },
            {
                question: "Qual a diferen√ßa entre urgente e importante?",
                options: ["N√£o h√° diferen√ßa", "Urgente precisa ser feito agora, importante gera resultados", "Importante √© mais dif√≠cil", "Urgente √© mais f√°cil"],
                correct: 1
            },
            {
                question: "O que fazer quando tudo parece priorit√°rio?",
                options: ["Fazer tudo ao mesmo tempo", "Delegar tudo", "Trabalhar mais horas", "Escolher apenas uma coisa"],
                correct: 3
            },
            {
                question: "Como manter o foco em um mundo cheio de distra√ß√µes?",
                options: ["Trabalhar mais r√°pido", "Criar blocos de tempo focado", "Fazer v√°rias coisas juntas", "Nunca parar para descansar"],
                correct: 1
            },
            {
                question: "Qual o primeiro passo para ser mais produtivo?",
                options: ["Comprar mais ferramentas", "Trabalhar mais horas", "Eliminar o que n√£o √© essencial", "Fazer cursos online"],
                correct: 2
            },
            {
                question: "O que √© mais importante: fazer certo ou fazer a coisa certa?",
                options: ["Fazer certo", "Fazer a coisa certa", "Ambos s√£o igualmente importantes", "Depende da situa√ß√£o"],
                correct: 1
            },
            {
                question: "Como lidar com a press√£o de dizer 'sim' para tudo?",
                options: ["Aceitar tudo e dar um jeito depois", "Criar crit√©rios claros para decis√µes", "Ignorar os pedidos", "Pedir mais prazo sempre"],
                correct: 1
            }
        ];

        // Estado do jogo
        let gameState = {
            playerName: '',
            department: '',
            whatsapp: '',
            markedCells: new Set(),
            bingosCompleted: 0,
            totalPoints: 50,
            currentQuestion: 0,
            quizAnswers: []
        };

        // Inicializar o jogo
        function startGame() {
            const name = document.getElementById('playerName').value.trim();
            const dept = document.getElementById('department').value.trim();
            const phone = document.getElementById('whatsapp').value.trim();

            if (!name || !dept || !phone) {
                alert('Por favor, preencha todos os campos!');
                return;
            }

            gameState.playerName = name;
            gameState.department = dept;
            gameState.whatsapp = phone;

            document.getElementById('displayName').textContent = name;
            document.getElementById('displayDepartment').textContent = dept;

            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';

            generateBingoGrid();
            updateStats();
        }

        // Gerar grid do bingo
        function generateBingoGrid() {
            const grid = document.getElementById('bingoGrid');
            grid.innerHTML = '';

            bingoWords.forEach((word, index) => {
                const cell = document.createElement('div');
                cell.className = 'bingo-cell';
                cell.textContent = word;
                cell.dataset.index = index;

                if (index === 12) { // C√©lula central (LIVRE)
                    cell.classList.add('free', 'marked');
                    cell.innerHTML = '‚≠ê LIVRE ‚≠ê';
                    gameState.markedCells.add(index);
                } else {
                    cell.addEventListener('click', () => markCell(index));
                }

                grid.appendChild(cell);
            });
        }

        // Marcar c√©lula
        function markCell(index) {
            if (gameState.markedCells.has(index)) return;

            const cell = document.querySelector(`[data-index="${index}"]`);
            cell.classList.add('marked');
            gameState.markedCells.add(index);

            updateStats();
            checkForBingo();
        }

        // Verificar bingo
        function checkForBingo() {
            const lines = [
                // Linhas horizontais
                [0, 1, 2, 3, 4], [5, 6, 7, 8, 9], [10, 11, 12, 13, 14], [15, 16, 17, 18, 19], [20, 21, 22, 23, 24],
                // Linhas verticais
                [0, 5, 10, 15, 20], [1, 6, 11, 16, 21], [2, 7, 12, 17, 22], [3, 8, 13, 18, 23], [4, 9, 14, 19, 24],
                // Diagonais
                [0, 6, 12, 18, 24], [4, 8, 12, 16, 20]
            ];

            let newBingos = 0;
            lines.forEach(line => {
                if (line.every(index => gameState.markedCells.has(index))) {
                    if (!line.bingoMarked) {
                        newBingos++;
                        line.bingoMarked = true;
                        showStarCelebration();
                    }
                }
            });

            if (newBingos > 0) {
                gameState.bingosCompleted += newBingos;
                gameState.totalPoints += newBingos * 100;
                updateStats();
            }

            // Verificar cartela completa
            if (gameState.markedCells.size === 25) {
                showBingoCelebration();
            }
        }

        // Mostrar celebra√ß√£o de estrela
        function showStarCelebration() {
            const star = document.createElement('div');
            star.className = 'star-celebration';
            star.innerHTML = '‚≠ê';
            document.getElementById('bingoGrid').appendChild(star);

            setTimeout(() => {
                star.remove();
            }, 3000);
        }

        // Mostrar celebra√ß√£o de bingo completo
        function showBingoCelebration() {
            const celebration = document.createElement('div');
            celebration.className = 'bingo-celebration';
            
            celebration.innerHTML = `
                <div class="celebration-content">
                    <h1>üéâ B-I-N-G-O! üéâ</h1>
                    <p style="font-size: 1.2rem;">Parab√©ns! Cartela completa!</p>
                </div>
            `;

            // Adicionar confetes
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                celebration.appendChild(confetti);
            }

            document.body.appendChild(celebration);

            // Mostrar BINGO na diagonal
            setTimeout(() => {
                showBingoDiagonal();
            }, 2000);

            setTimeout(() => {
                celebration.remove();
            }, 5000);
        }

        // Mostrar BINGO na diagonal
        function showBingoDiagonal() {
            const grid = document.getElementById('bingoGrid');
            const diagonal = document.createElement('div');
            diagonal.className = 'bingo-diagonal';

            const letters = ['B', 'I', 'N', 'G', 'O'];
            const positions = [
                {top: '10%', left: '10%'},
                {top: '30%', left: '30%'},
                {top: '50%', left: '50%'},
                {top: '70%', left: '70%'},
                {top: '90%', left: '90%'}
            ];

            letters.forEach((letter, index) => {
                setTimeout(() => {
                    const letterEl = document.createElement('div');
                    letterEl.className = 'diagonal-letter';
                    letterEl.textContent = letter;
                    letterEl.style.top = positions[index].top;
                    letterEl.style.left = positions[index].left;
                    diagonal.appendChild(letterEl);
                }, index * 200);
            });

            grid.appendChild(diagonal);
        }

        // Atualizar estat√≠sticas
        function updateStats() {
            document.getElementById('wordsMarked').textContent = gameState.markedCells.size;
            document.getElementById('bingosCompleted').textContent = gameState.bingosCompleted;
            
            // Calcular pontos: 50 base + 10 por palavra + 100 por bingo
            const points = 50 + (gameState.markedCells.size * 10) + (gameState.bingosCompleted * 100);
            gameState.totalPoints = points;
            document.getElementById('totalPoints').textContent = points;

            // Atualizar barra de progresso
            const progress = (gameState.markedCells.size / 25) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Resetar jogo
        function resetGame() {
            if (confirm('Tem certeza que deseja resetar o jogo?')) {
                gameState.markedCells.clear();
                gameState.bingosCompleted = 0;
                gameState.totalPoints = 50;
                
                document.querySelectorAll('.bingo-cell').forEach((cell, index) => {
                    cell.classList.remove('marked');
                    if (index === 12) {
                        cell.classList.add('free', 'marked');
                        gameState.markedCells.add(index);
                    }
                });
                
                updateStats();
            }
        }

        // Continuar para quiz
        function continueToQuiz() {
            document.getElementById('gameScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            loadQuestion();
        }

        // Carregar pergunta do quiz
        function loadQuestion() {
            const question = quizQuestions[gameState.currentQuestion];
            document.getElementById('questionNumber').textContent = `Pergunta ${gameState.currentQuestion + 1} de ${quizQuestions.length}`;
            document.getElementById('questionText').textContent = question.question;

            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'quiz-option';
                optionEl.textContent = option;
                optionEl.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionEl);
            });

            // Restaurar sele√ß√£o anterior se existir
            if (gameState.quizAnswers[gameState.currentQuestion] !== undefined) {
                const selectedIndex = gameState.quizAnswers[gameState.currentQuestion];
                document.querySelectorAll('.quiz-option')[selectedIndex].classList.add('selected');
            }

            // Atualizar bot√µes de navega√ß√£o
            document.getElementById('prevBtn').style.display = gameState.currentQuestion > 0 ? 'block' : 'none';
            document.getElementById('nextBtn').textContent = gameState.currentQuestion === quizQuestions.length - 1 ? 'Finalizar üèÜ' : 'Pr√≥xima ‚û°Ô∏è';
        }

        // Selecionar op√ß√£o do quiz
        function selectOption(index) {
            document.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected'));
            document.querySelectorAll('.quiz-option')[index].classList.add('selected');
            gameState.quizAnswers[gameState.currentQuestion] = index;
        }

        // Pr√≥xima pergunta
        function nextQuestion() {
            if (gameState.quizAnswers[gameState.currentQuestion] === undefined) {
                alert('Por favor, selecione uma resposta!');
                return;
            }

            if (gameState.currentQuestion === quizQuestions.length - 1) {
                finishQuiz();
            } else {
                gameState.currentQuestion++;
                loadQuestion();
            }
        }

        // Pergunta anterior
        function previousQuestion() {
            if (gameState.currentQuestion > 0) {
                gameState.currentQuestion--;
                loadQuestion();
            }
        }

        // Finalizar quiz
        function finishQuiz() {
            // Calcular pontua√ß√£o do quiz
            let correctAnswers = 0;
            gameState.quizAnswers.forEach((answer, index) => {
                if (answer === quizQuestions[index].correct) {
                    correctAnswers++;
                }
            });

            // Adicionar pontos do quiz
            gameState.totalPoints += correctAnswers * 20;

            // Enviar dados para Google Forms
            submitToGoogleForms();
            
            // Mostrar tela de sucesso
            showSuccessScreen();
        }

        // Mostrar tela de sucesso
        function showSuccessScreen() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('successScreen').style.display = 'block';

            // Preencher estat√≠sticas finais
            const percentage = Math.round((gameState.markedCells.size / 25) * 100);
            const correctAnswers = gameState.quizAnswers.filter((answer, index) => answer === quizQuestions[index].correct).length;
            
            document.getElementById('finalStats').innerHTML = `
                <li>‚Ä¢ Nome: ${gameState.playerName}</li>
                <li>‚Ä¢ Palavras marcadas: ${gameState.markedCells.size}/25</li>
                <li>‚Ä¢ Bingos completos: ${gameState.bingosCompleted}</li>
                <li>‚Ä¢ Respostas corretas: ${correctAnswers}/${quizQuestions.length}</li>
                <li>‚Ä¢ Pontua√ß√£o final: ${gameState.totalPoints}</li>
                <li>‚Ä¢ Percentual: ${percentage}%</li>
            `;
        }

        // Mostrar certificado
        function showCertificate() {
            document.getElementById('successScreen').style.display = 'none';
            document.getElementById('certificateScreen').style.display = 'block';
            document.getElementById('certificateName').textContent = gameState.playerName.toUpperCase();
        }

        // Compartilhar no Instagram
        function shareOnInstagram() {
            const text = `Acabei de me tornar um Cubooista Essencialista! üèÜ Obrigado pela experi√™ncia incr√≠vel @cubooexp @duhsoley #Essencialista #Produtividade #CubooExperience`;
            
            // Copiar texto para clipboard
            navigator.clipboard.writeText(text).then(() => {
                alert('Texto copiado! Cole no seu Instagram e marque @cubooexp e @duhsoley');
            });
            
            // Abrir Instagram
            window.open('https://www.instagram.com/', '_blank');
        }

        // Baixar certificado como imagem
        function downloadCertificate() {
            // Usar html2canvas para converter o certificado em imagem
            // Como n√£o temos html2canvas dispon√≠vel, vamos simular o download
            alert('Certificado baixado com sucesso!');
            
            // Em uma implementa√ß√£o real, usar√≠amos:
            // html2canvas(document.getElementById('certificateElement')).then(canvas => {
            //     const link = document.createElement('a');
            //     link.download = `Certificado_${gameState.playerName.replace(/\s+/g, '_')}.png`;
            //     link.href = canvas.toDataURL('image/png');
            //     link.click();
            // });
        }

        // Enviar dados para Google Forms
        function submitToGoogleForms() {
            const formData = new FormData();
            const percentage = Math.round((gameState.markedCells.size / 25) * 100);
            
            formData.append(FORM_FIELDS.name, gameState.playerName);
            formData.append(FORM_FIELDS.department, gameState.department);
            formData.append(FORM_FIELDS.whatsapp, gameState.whatsapp);
            formData.append(FORM_FIELDS.wordsMarked, Array.from(gameState.markedCells).map(i => bingoWords[i]).join(', '));
            formData.append(FORM_FIELDS.bingosCompleted, gameState.bingosCompleted);
            formData.append(FORM_FIELDS.totalPoints, gameState.totalPoints);
            formData.append(FORM_FIELDS.percentage, percentage + '%');
            formData.append(FORM_FIELDS.timestamp, new Date().toLocaleString('pt-BR'));

            // Log para debug
            console.log('Enviando dados:', {
                name: gameState.playerName,
                department: gameState.department,
                whatsapp: gameState.whatsapp,
                wordsMarked: Array.from(gameState.markedCells).map(i => bingoWords[i]).join(', '),
                bingosCompleted: gameState.bingosCompleted,
                totalPoints: gameState.totalPoints,
                percentage: percentage + '%'
            });

            fetch(GOOGLE_FORMS_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            }).then(() => {
                console.log('Dados enviados com sucesso!');
            }).catch((error) => {
                console.error('Erro ao enviar:', error);
            });
        }
    </script>
</body>
</html>

